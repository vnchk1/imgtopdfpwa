<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ PDF">
    <meta name="theme-color" content="#2196F3">
    <title>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ PDF</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="icon-192.png">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìÑ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ PDF</h1>
            <p class="subtitle">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –æ–¥–∏–Ω PDF —Ñ–∞–π–ª</p>
        </header>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ -->
        <div class="info-box always-open">
            <h2>‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
            <div class="info-content">
                <p><strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã:</strong> Google Chrome, Microsoft Edge</p>
                <p><strong>–§–æ—Ä–º–∞—Ç—ã:</strong> JPEG, PNG, HEIF/HEIC</p>
                <p><strong>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Üí –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é ‚Üí –ù–∞–∂–º–∏—Ç–µ "–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"</p>
                <p class="android-warning">
                    ‚ö†Ô∏è –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ Android –≤—ã–±–∏—Ä–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä, –∞ –Ω–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ç–æ/–∫–∞–º–µ—Ä—É (–¢—Ä–∏ —Ç–æ—á–∫–∏ (‚ãÆ) ‚Üí "–°–º–æ—Ç—Ä–µ—Ç—å...").
                </p>
                <p class="feedback-link">
                    üí¨ <a href="contact.html" class="feedback-anchor">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a>
                </p>
            </div>
        </div>

        <main>
            <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
            <section class="step" id="step1">
                <h2>1. –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h2>

                <div class="file-input-wrapper">
                    <input type="file" id="imageInput" multiple accept="image/*,.jpg,.jpeg,.png,.heic,.heif" />
                    <label for="imageInput" class="file-input-label">
                        <span class="file-input-text">–í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                        <span class="file-input-icon">üìÅ</span>
                    </label>
                </div>

                <div id="imagePreview" class="image-preview"></div>
            </section>

            <!-- –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <section class="step" id="step2">
                <h2>2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                
                <div class="setting-group">
                    <label for="sortOption">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                    <select id="sortOption">
                        <option value="date">–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (—Å—Ç–∞—Ä—ã–µ —Å–≤–µ—Ä—Ö—É)</option>
                        <option value="name">–ü–æ –∞–ª—Ñ–∞–≤–∏—Ç—É (–ø–µ—Ä–≤—ã–µ —Å–≤–µ—Ä—Ö—É)</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label for="orientation">–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã:</label>
                    <select id="orientation">
                        <option value="portrait">–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</option>
                        <option value="landscape">–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è</option>
                    </select>
                </div>
            </section>

            <!-- –®–∞–≥ 3: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è -->
            <section class="step" id="step3">
                <h2>3. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è</h2>
                <button id="convertBtn" class="convert-btn" disabled>–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ PDF</button>
                
                <div id="progressSection" class="progress-section" style="display: none;">
                    <div class="progress-bar-wrapper">
                        <div id="progressBar" class="progress-bar"></div>
                    </div>
                    <p id="progressText" class="progress-text">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞...</p>
                    
                    <div id="imageStatusList" class="image-status-list"></div>
                </div>

                <div id="errorSection" class="error-section" style="display: none;"></div>
            </section>
        </main>

        <footer>
            <p>PWA —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏</p>
        </footer>
    </div>

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.4/dist/heic2any.min.js" crossorigin="anonymous"></script>
    <script src="app.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
                    .catch(err => console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Service Worker:', err));
            });
        }
    </script>
</body>
</html>
